/*
* jquery.stacky - v0.1.0 - 2015-02-13 
* https://github.com/jachinte/jquery.stacky/
* Copyright (c) 2015 Miguel A. Jim√©nez - http://migueljimenez.co 
*/
!function(a,b,c,d){"use strict";var e="Stacky";a[e]=function(b,c){var e={fadeInSpeed:"fast",scrollToSpeed:400,panelDefaults:{after:d,close:{show:!0,position:"right"},maximize:{show:!0,position:"right"},navigation:{left:[],right:[]},content:"",id:"",size:"medium",title:""},texts:{close:"Close panel",collapse:"Collapse panel",expand:"Expand panel"}},f={closeClickBound:"close-bound",close:"close",closeIcon:"pe-7s-close",collapseClickBound:"collapse-bound",collapse:"collapse",collapseIcon:"pe-7s-angle-down",content:"content",ellipsis:"ellipsis",expandClickBound:"expand-bound",expand:"expand",expandIcon:"pe-7s-angle-up",expanded:"expanded",floatLeft:"left",floatRight:"right",panel:"panel",showShadow:"show-shadow",shadowLeft:"shadow-left",shadowRight:"shadow-right"},g=this,h=a(b),b=b;g.settings={},g.panels=[],g.init=function(){g.settings=a.extend(!0,{},e,c)},g.push=function(b){var c=a.extend(!0,{},g.settings.panelDefaults,b),e=i(c),j=h;if(e.addClass(f.showShadow),e.css("display","none").css("z-index",""+g.panels.length),j.find("."+f.panel).removeClass(f.showShadow),c.after!==d){c.after.after(e);var n=a.inArray(c.after,g.panels);g.panels.splice(n+1,0,e)}else j.append(e),g.panels.push(e);e.fadeIn(g.settings.fadeInSpeed),j.not("."+f.closeClickBound).addClass(f.closeClickBound).on("click","."+f.close,{self:g},k),j.not("."+f.expandClickBound).addClass(f.expandClickBound).on("click","."+f.expand,{self:g},l),j.not("."+f.collapseClickBound).addClass(f.collapseClickBound).on("click","."+f.collapse,{self:g},m),a.fn.scrollTo&&j.scrollTo(e,g.settings.scrollToSpeed)};var i=function(b){var c="<div></div>",d=a("<section></section>").addClass(f.panel).addClass(b.size),e=a("<header></header>"),g=j(b),h=a(c).addClass(f.content),i=a("<article></article>"),k=a(c).addClass(f.shadowLeft),l=a(c).addClass(f.shadowRight);if(""!==b.content&&h.append(b.content),e.append(g).append(k.add(l)),""!==b.title){var m=a("<h1></h1>").addClass(f.ellipsis).text(b.title);e.append(m)}return i.append(h),d.append(e).append(i),""!==b.id&&d.attr("id",b.id),d.append(k.add(l)),d},j=function(b){var c=a("<nav></nav>").addClass(f.floatLeft),d=a("<nav></nav>").addClass(f.floatRight),e=a("<ul></ul>"),h=a("<ul></ul>");b.maximize.show!==!0||"left"!==b.maximize.position&&"right"!==b.maximize.position||b.navigation[b.maximize.position].push({link:"#!",alt:g.settings.texts.expand,linkClass:f.expand,iconClass:f.expandIcon+" big-icon"}),b.close.show!==!0||"left"!==b.close.position&&"right"!==b.close.position||b.navigation[b.close.position].push({link:"#!",alt:g.settings.texts.close,linkClass:f.close,iconClass:f.closeIcon+" big-icon"});for(var i=0;i<b.navigation.left.length;i++){var j=b.navigation.left[i],k=a("<i></i>").addClass(j.iconClass),l=a("<a></a>").attr("href",j.link).attr("title",j.alt).addClass(j.linkClass).append(k),m=a("<li></li>").append(l);e.append(m)}c.append(e);for(var i=0;i<b.navigation.right.length;i++){var j=b.navigation.right[i],k=a("<i></i>").addClass(j.iconClass),l=a("<a></a>").attr("href",j.link).attr("title",j.alt).addClass(j.linkClass).append(k),m=a("<li></li>").append(l);h.append(m)}return d.append(h),c.add(d)},k=function(b){var c=(b.data.self,a(this).closest("."+f.panel)),d=c.hasClass(f.showShadow);c.remove(),d&&h.find("."+f.panel).last().addClass(f.showShadow)},l=function(b){var c=b.data.self,d=a(this).closest("."+f.panel);a(this).removeClass(f.expand).addClass(f.collapse).attr("title",c.settings.texts.collapse),a(this).find("i").removeClass(f.expandIcon).addClass(f.collapseIcon),d.addClass(f.expanded),a.fn.scrollTo&&h.scrollTo(d,c.settings.scrollToSpeed)},m=function(b){var c=b.data.self,d=a(this).closest("."+f.panel);a(this).removeClass(f.collapse).addClass(f.expand).attr("title",c.settings.texts.expand),a(this).find("i").removeClass(f.collapseIcon).addClass(f.expandIcon),d.removeClass(f.expanded),a.fn.scrollTo&&h.scrollTo(d,c.settings.scrollToSpeed)};g.init()},a.fn[e]=function(b){return this.each(function(){if(d==a(this).data(e)){var c=new a[e](this,b);a(this).data(e,c)}})}}(jQuery,window,document);